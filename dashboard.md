---
title: Dashboard
nav_order: 8
---

# Dashboard
{: .no_toc }

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

PSRIO provides a set of methods that allow users to analyze their results simply and easily.

Dashboards are panels that provide data visualization in a comprehensive way. PSRIO dashboards are created and manipulated by the methods below: 

| Method                            | Syntax                                                          |
|:----------------------------------|:----------------------------------------------------------------|
| Create Dashboard with Title       | `dashboard = Dashboard("title")`                                |
| Set the Dashboard Icon            | `dashboard:set_icon("icon")`                                    |
| Push Chart to Dashboard           | `dashboard:push(chart)`                                         |
| Push Markdown to Dashboard        | `dashboard:push("markdown")`                                    |
| Save Dashboard with filename      | `dashboard:save("filename")`                                    |

## Charts

Charts are the essential elements of dashboards. They provide a visual way of analyzing the data generated by PSR models. To create a chart object, we should use one of the following methods:

| Method                                     | Syntax                               |
|:-------------------------------------------|:-------------------------------------|
| Create a Chart                             | `chart = Chart()`                    |
| Create a Chart with a title                | `chart = Chart("title")`             |
| Create a Chart with a title and a subtitle | `chart = Chart("title", "subtitle")` |

After creating the chart object, we can start to push the data in it. PSRIO gives multiple options for chart types, which can be seen below:

| Method                         | Syntax                                            |
|:-------------------------------|:--------------------------------------------------|
| Line                           | `chart:add_line(exp)`                             |
| Spline                         | `chart:add_spline(exp)`                           |
| Column                         | `chart:add_column(exp)`                           |
| Column Stacking                | `chart:add_column_stacking(exp)`                  |
| Column Percent                 | `chart:add_column_percent(exp)`                   |
| Categories                     | `chart:add_categories(exp, "label")`              |
| Area                           | `chart:add_area(exp)`                             |
| Area Stacking                  | `chart:add_area_stacking(exp)`                    |
| Area Percent                   | `chart:add_area_percent(exp)`                     |
| Area Range                     | `chart:add_area_range(exp1, exp2)`                |
| Area Spline                    | `chart:add_area_spline(exp)`                      |
| Area Spline Stacking           | `chart:add_area_spline_stacking(exp)`             |
| Area Spline Percent            | `chart:add_area_spline_percent(exp)`              |
| Area Spline Range              | `chart:add_area_spline_range(exp1, exp2)`         |
| Pie                            | `chart:add_pie(exp)`                              |
| Histogram                      | `chart:add_histogram(exp)`                        |
| Heatmap                        | `chart:add_heatmap(exp)`                          |
| Scatter                        | `chart:add_scatter(exp1, exp2, "label")`          |

The basic workflow in PSRIO to create a dashboard is:

1. Load the collections and the data
2. Aggregate or process the data
3. Create the chart and push the data
4. Create the dashboard and push the chart
5. Save the dashboard

#### Example 1
{: .no_toc }

``` lua
hydro = Hydro();
gerhid = hydro:load("gerhid"):aggregate_blocks(BY_SUM()):aggregate_scenarios(BY_AVERAGE());

chart = Chart("Hydro Generation");
chart:add_line(gerhid);

dashboard = Dashboard("SDDP");
dashboard:push(chart);
dashboard:save("sddp-dashboard");
```

### Chart Attributes

Some methods accept arguments to customize your chart, i.e., change its color, define the limits on the y axis, etc.

The arguments are declared in tables inside the methods, as shown in the following example:
`chart:add_line(exp, {yMin = 0})`. The user can also define multiple arguments as follows `chart:add_line(exp, {yMin = 0, color = "#8583ff"})`. The following table describes the available chart arguments:

| Argument                     | Description                                                                                                                                   |
|:-----------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------|
| `color = ?`                  | e.g. `#ff0000` or `red`                                                                                                                       |
| `lineWidth = ?`              | `0`, `1`, `2`, ...                                                                                                                            |
| `marker = {enabled = ?}`     | `true` or `false`                                                                                                                             |
| `marker = {symbol = ?}`      | `circle`, `square`, `diamond`, `triangle` or `triangle-down`                                                                                  |
| `marker = {radius = ?}`      | `0`, `1`, `2`, ...                                                                                                                            |
| `dataLabels = {enabled = ?}` | `true` or `false`                                                                                                                             |
| `dataLabels = {format = ?}`  | e.g. `"{point.y:,.0f}"`                                                                                                                       |
| `xGridLineWidth = ?`         | `0`, `1`, `2`, ...                                                                                                                            |
| `fillOpacity = ?`            | `0.0` to `1.0`                                                                                                                                |
| `dashStyle = ?`              | `solid`, `shortdash`, `shortdot`, `shortdashdot`, `shortdashdotdot`, `dot`, `dash`, `longdash`, `dashdot`, `longdashdot`, and `longdashdotdo` |
| `stops = {{?, ?}, ... }`     | e.g. {% raw %}`stops = {{0.0, "#3060cf"}, {0.5, "#fffbbc"}, {0.9, '#c4463a"}}`{% endraw %}                                                    |

#### Example 1
{: .no_toc }

```lua
hydro = Hydro();
gerhid = hydro:load("gerhid"):aggregate_blocks(BY_SUM()):aggregate_scenarios(BY_AVERAGE());

light_blue = "#8583ff";

chart = Chart("Hydro Generation");
chart:add_line(gerhid, {color=light_blue});

dashboard = Dashboard("SDDP");
dashboard:push(chart);
dashboard:save("sddp-gerhid");
```

#### Example 2: Multiple Tabs
{: .no_toc }

```lua
hydro = Hydro();
gerhid = hydro:load("gerhid"):aggregate_blocks(BY_SUM()):aggregate_scenarios(BY_AVERAGE());

chart1 = Chart("Chart 1");
chart1:add_area(gerhid);

tab1 = Dashboard("Tab1");
tab1:push(chart1);

thermal = Thermal();
gerter = thermal:load("gerter"):aggregate_blocks(BY_SUM()):aggregate_scenarios(BY_AVERAGE());

chart2 = Chart("Chart 2");
chart2:add_area(gerter);

tab2 = Dashboard("Tab2");
tab2:push(chart2);

dashboard = tab1 + tab2;
dashboard:save("sddp-generation");
```

#### Example 3: Heatmap
{: .no_toc }

```lua
system = System();
cmgdem = system:load("cmgdem"):aggregate_scenarios(BY_AVERAGE()):aggregate_agents(BY_SUM(), "Load Marginal Cost");

chart = Chart("Hourly Cost");
chart:add_heatmap(gerhid, { stops = { {0, "#3060cf"}, {0.5, "#fffbbc"}, {0.9, "#c4463a"},{1, "#c4463a"} } });

dashboard = Dashboard("SDDP");
dashboard:push(chart);
dashboard:save("sddp-cmgdem");
```

## Markdown

Markdown is a lightweight and easy-to-use syntax for styling your writing. For more details see [GitHub Flavored Markdown](https://guides.github.com/features/mastering-markdown/).

#### Example 1
{: .no_toc }

```lua
dashboard = Dashboard("Hydro Generation"); 
dashboard:push("# Hydro Generation Dashboard");
dashboard:push("#### This dashboard shows the hydro generation of the main hydropower plants in Brazil.");
dashboard:save("dashboard_hydros");
```
<!-- ```markdown
Syntax highlighted code block

# Header 1
## Header 2
### Header 3

- Bulleted
- List

1. Numbered
2. List

**Bold** and _Italic_ and `Code` text

[Link](url) and ![Image](src)
``` -->